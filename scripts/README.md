# ü§ñ –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ SnapCal

## üìÅ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏

### `start-backend.sh` - –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞ (Linux/macOS/WSL)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä—É –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç/–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –±—ç–∫–µ–Ω–¥.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

- `sshpass` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è
- Bash shell

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ sshpass:**

```bash
# Ubuntu/Debian
sudo apt-get install sshpass

# macOS
brew install hudochenkov/sshpass/sshpass
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```bash
./scripts/start-backend.sh
```

### `start-backend.ps1` - –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞ (Windows)

PowerShell –≤–µ—Ä—Å–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è Windows –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

- PuTTY (–¥–ª—è plink —É—Ç–∏–ª–∏—Ç—ã)
- PowerShell

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ PuTTY:**

- –°–∫–∞—á–∞—Ç—å —Å https://www.putty.org/
- –ò–ª–∏ —á–µ—Ä–µ–∑ Chocolatey: `choco install putty`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```powershell
.\scripts\start-backend.ps1
```

## üîß –ß—Ç–æ –¥–µ–ª–∞—é—Ç —Å–∫—Ä–∏–ø—Ç—ã

1. **–ü—Ä–æ–≤–µ—Ä—è—é—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —É—Ç–∏–ª–∏—Ç
2. **–ü–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤–≤–æ–¥–æ–º –ø–∞—Ä–æ–ª—è
3. **–ü–µ—Ä–µ—Ö–æ–¥—è—Ç** –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ `/home/snapcalfun/www/backend`
4. **–ü—Ä–æ–≤–µ—Ä—è—é—Ç —Å—Ç–∞—Ç—É—Å** PM2 –∏ –ø–æ—Ä—Ç–∞ 3333
5. **–ó–∞–ø—É—Å–∫–∞—é—Ç/–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é—Ç** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ PM2
6. **–ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –ª–æ–≥–∏** –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
7. **–ü—Ä–æ–≤–µ—Ä—è—é—Ç API** –Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

## ‚ö†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Linux/macOS: "sshpass command not found"

```bash
# Ubuntu/Debian
sudo apt-get update && sudo apt-get install sshpass

# CentOS/RHEL
sudo yum install sshpass

# macOS
brew install hudochenkov/sshpass/sshpass
```

### Windows: "plink command not found"

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PuTTY —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞
2. –î–æ–±–∞–≤—å—Ç–µ –ø–∞–ø–∫—É PuTTY –≤ PATH
3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å: `"C:\Program Files\PuTTY\plink.exe"`

### "Permission denied" –Ω–∞ Linux

```bash
chmod +x scripts/start-backend.sh
```

### "Execution policy" –æ—à–∏–±–∫–∞ –≤ PowerShell

```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –°–∫—Ä–∏–ø—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–∞—Ä–æ–ª—å –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ!

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**

1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–µ–π –≤–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª–µ–π
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–µ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞
ssh-keygen -t rsa -b 4096 -C "snapcal-deploy"

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ .env
source .env

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh-copy-id -i ~/.ssh/id_rsa.pub -p $SSH_PORT $SSH_USER@$SSH_HOST

# –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω–µ –Ω—É–∂–µ–Ω –ø–∞—Ä–æ–ª—å
ssh $SSH_USER@$SSH_HOST -p $SSH_PORT
```

## üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

```bash
# Linux/macOS
cd /path/to/snapcal && ./scripts/start-backend.sh

# Windows
cd C:\Path\To\SnapCal && .\scripts\start-backend.ps1
```

### –ó–∞–ø—É—Å–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```bash
# Linux/macOS
./scripts/start-backend.sh 2>&1 | tee deployment.log

# Windows
.\scripts\start-backend.ps1 | Tee-Object deployment.log
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ cron (Linux)

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ 6:00
0 6 * * * /path/to/snapcal/scripts/start-backend.sh >> /var/log/snapcal-deploy.log 2>&1
```

---

**üí° –°–æ–≤–µ—Ç:** –°–Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –≤—Ä—É—á–Ω—É—é, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ –∏—Ö —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, –∞ –∑–∞—Ç–µ–º –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –≤ CI/CD –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã.
